/** jQuery OctoModal 1.0.1-beta5 / Copyright 2015 Anton Drobot me@antondrobot.ru / https://github.com/anton-drobot/octomodal / Licensed under MIT */
!function($,t,o,s){"use strict";function i(t){this.options=$.extend({},e,t),this.data={status:"close",closeSelectors:[]},this.init(),$(o).trigger("initialized.OctoModal"),this.doAction()}var e={action:"open",type:"page",effect:"fade-in-scale",showCloseButton:!0,closeOnOverlay:!0,removeTimeOut:400,width:"auto",widthBreakPoints:{small:"400px",medium:"720px",large:"960px",xLarge:"1140px"},classes:"",content:"",templates:{main:'<div class="octomodal octomodal--open ${effect}${classes}"><div class="octomodal__wrapper"><div class="octomodal__container"${width}><div class="octomodal__content">${content}</div>${closeButton}</div></div></div>',closeButton:'<div class="octomodal__close-button"></div>'}};i.prototype.init=function(){this.options.showCloseButton&&this.data.closeSelectors.push(".octomodal__close-button"),this.options.closeOnOverlay&&this.data.closeSelectors.push(".octomodal__wrapper")},i.prototype.setOptions=function(t){typeof t.action===s&&(t.action="setOptions"),this.options=$.extend({},this.options,t),this.init(),this.doAction()},i.prototype.doAction=function(){"open"===this.options.action&&this.openAction(),"setContent"===this.options.action&&this.setContentAction(),"close"===this.options.action&&this.closeAction()},i.prototype.openAction=function(){if("close"===this.data.status){var t=this.getTemplate(this.options.content);$(o.body).append(t),this.setPosition(),this.preventBodyScrolling(!0),this.data.status="open",this.addEvents(),$(o).trigger("opened.OctoModal")}else this.options.action="setContent",this.doAction()},i.prototype.setContentAction=function(){"open"===this.data.status?($(".octomodal").find(".octomodal__content").html(this.options.content),this.setPosition(),$(o).trigger("contentChanged.OctoModal")):(this.options.action="open",this.doAction())},i.prototype.closeAction=function(){"open"===this.data.status&&($(".octomodal").removeClass("octomodal--open").addClass("octomodal--close"),t.setTimeout(function(){$(".octomodal").remove()},this.options.removeTimeOut),this.preventBodyScrolling(!1),this.data.status="close",this.setToDefaults(),this.removeEvents(),$(o).trigger("closed.OctoModal"))},i.prototype.setPosition=function(){var s=$(".octomodal").find(".octomodal__container"),i=s.outerHeight(),e=$(t).height(),n=$(o).scrollTop(),c={marginTop:30,marginBottom:30};e>i+c.marginTop+c.marginBottom&&(c.marginTop=Math.floor((e-i)/2),c.marginBottom=0),c.marginTop+=n,s.css(c),$(o).trigger("positionChanged.OctoModal")},i.prototype.getTemplate=function(t){var o=this.options.templates.main,i="",e="",n="",c="";return this.options.showCloseButton&&(i=this.options.templates.closeButton),this.options.effect&&this.options.effect.length>0&&(e=" octomodal--"+this.options.effect),this.options.classes&&this.options.classes.length>0&&(n=" "+this.options.classes),"auto"!==this.options.width&&this.options.width.length>0&&(c=this.options.widthBreakPoints[this.options.width]!==s?' style="width: '+this.options.widthBreakPoints[this.options.width]+';"':' style="width: '+this.options.width+';"'),o=o.replace(/\$\{effect}/,e),o=o.replace(/\$\{closeButton}/,i),o=o.replace(/\$\{classes}/,n),o=o.replace(/\$\{width}/,c),o.replace(/\$\{content}/,t)},i.prototype.addEvents=function(){var s=this,i=!1;this.data.closeSelectors.length>0&&$(o.body).on("click.OctoModal",".octomodal",function(t){s.data.closeSelectors.forEach(function(o,e,n){$(t.target).is(o)&&!i&&(s.closeAction(),i=!0)})}),$(t).on("resize.OctoModal",function(t){s.setPosition()})},i.prototype.removeEvents=function(){$(o.body).off(".OctoModal")},i.prototype.setToDefaults=function(){this.options=e},i.prototype.preventBodyScrolling=function(t){t&&$(o.body).addClass("octomodal-fix"),t||$(o.body).removeClass("octomodal-fix")},$.octoModal=function(t){var e=$(o.body).data("OctoModal");return e||"object"!=typeof t&&t!==s?!e||"object"!=typeof t&&t!==s?void 0:e.setOptions(t):$(o.body).data("OctoModal",new i(t))}}(jQuery,window,document);